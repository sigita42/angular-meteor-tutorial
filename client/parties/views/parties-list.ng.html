<!--{{}} is a binding projecting application model, which is set up in the controller-->
<div>
	<form>
		<label>Name</label>
		<input ng-model="newParty.name">
		<label>Description</label>
		<input ng-model="newParty.description">
		<label>Public</label>
		<input type="checkbox" ng-model="newParty.public">
		<button ng-click="newParty.owner=$root.currentUser._id; ctrl.parties.push(newParty)">Add</button>
		<button ng-click="ctrl.removeAll()">Remove All</button>
	</form>
	
	<h1 ng-repeat="greetname in ctrl.greetnames">Hello, {{greetname.name}}</h1>
	<h1>Parties:</h1>
	<div>
		<input type="search" ng-model="ctrl.search" placeholder="Search">
		<select ng-model="ctrl.orderProperty">
			<option value="1">Ascending</option>
			<option value="-1">Descending</option>
		</select>
	</div>
	<ul>
		<li dir-paginate="party in ctrl.parties | itemsPerPage: ctrl.perPage" total-items="ctrl.partiesCount.count">
<!--		<li dir-paginate="party in ctrl.parties | itemsPerPage: ctrl.perPage" total-items="10">-->
			<a ui-sref="partyDetails({partyId: party._id})">{{party.name}}</a>
			<p>{{party.description}}</p>
			<button ng-click="ctrl.removeParty(party)">X</button>
			<p><small>Posted by {{ ctrl.creator(party) | displayName }}</small></p>
		</li>
	</ul>
	<dir-pagination-controls on-page-change="ctrl.pageChanged(newPageNumber)"></dir-pagination-controls>

</div>